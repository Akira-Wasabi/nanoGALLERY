/*
 nanoGALLERY v4.0beta2
 Plugin for jQuery by Christophe Brisbois
 http://nanogallery.brisbois.fr

 External components:
  - jQuery (http://www.jquery.com)0
  - jQuery Color plugin - is embedded
  - Transit (http://ricostacruz.com/jquery.transit/) - optional
  - fancybox (http://www.fancybox.net) - optional
*/
(function(q){jQuery.fn.nanoGallery=function(D){var A=q.extend(!0,{userID:"",kind:"",album:"",photoset:"",blackList:"",whiteList:"",albumList:"",topLabel:"home",displayBreadcrumb:!0,theme:"default",colorScheme:"default",colorSchemeViewer:"default",items:null,itemsBaseURL:"",maxItemsPerLine:0,maxWidth:0,viewer:"internal",thumbnailWidth:230,thumbnailHeight:154,thumbnailHoverEffect:null,thumbnailLabel:{position:"overImageOnBottom",display:!0,displayDescription:!0},preset:"none"},D);return this.each(function(){(new nanoGALLERY).Initiate(this,
A)})}})(jQuery);
(function(q){jQuery.fn.nanoGalleryDemo=function(D){function A(e,g,q,l,r,a,f){jQuery(h).find("[name=lHoverEffect1]").val(e);jQuery(h).find("[name=lHoverEffect2]").val(g);jQuery(h).find("[name=lHoverEffect3]").val(q);jQuery(h).find("input:radio[name=thumbnailLabelPosition]").val([l]);jQuery(h).find("[name=thumbnailLabelDisplay]").prop("checked",r);jQuery(h).find("[name=thumbnailLabelDisplayDescription]").prop("checked",a);jQuery(h).find("input:radio[name=backgroundColor]").val([f]);G()}function G(){l.thumbnailHoverEffect=
[];var e=jQuery(h).find("[name=lHoverEffect1] option:selected").text();"none"!=e&&""!=e&&(e=e.replace("*",""),l.thumbnailHoverEffect.push({name:e,duration:200,durationBack:200,easing:"swing",easingBack:"swing"}));e=jQuery(h).find("[name=lHoverEffect2] option:selected").text();"none"!=e&&""!=e&&(e=e.replace("*",""),l.thumbnailHoverEffect.push({name:e,duration:200,durationBack:200,easing:"swing",easingBack:"swing"}));e=jQuery(h).find("[name=lHoverEffect3] option:selected").text();"none"!=e&&""!=e&&
(e=e.replace("*",""),l.thumbnailHoverEffect.push({name:e,duration:200,durationBack:200,easing:"swing",easingBack:"swing"}));e=+parseInt(jQuery(h).find("[name=thumbWidth]").val(),10);10<=e&&500>=e&&(jQuery(h).find("[name=thumbWidth]").val(e),l.thumbnailWidth=e);e=parseInt(jQuery(h).find("[name=thumbHeight]").val(),10);10<=e&&500>=e&&(jQuery(h).find("[name=thumbHeight]").val(e),l.thumbnailHeight=e);l.thumbnailLabel.position=jQuery(h).find("input[name=thumbnailLabelPosition]:checked",h).val();l.thumbnailLabel.display=
jQuery(h).find("[name=thumbnailLabelDisplay]").prop("checked");l.thumbnailLabel.displayDescription=jQuery(h).find("[name=thumbnailLabelDisplayDescription]").prop("checked");l.colorScheme=jQuery(h).find("input[name=colorScheme]:checked",h).val();l.theme=jQuery(h).find("input[name=cssFile]:checked",h).val();"dark"==jQuery(h).find("input[name=backgroundColor]:checked",h).val()?jQuery(h).css("background","#222"):jQuery(h).css("background","#eee");jQuery(E).animate({opacity:0,height:0},200).promise().done(function(){jQuery(E).remove();
E=jQuery(r).appendTo(C);(new nanoGALLERY).Initiate(E,l)})}var C=null,h=null,E=null,r=null,l=q.extend(!0,{userID:"",kind:"",album:"",photoset:"",blackList:"",whiteList:"",albumList:"",topLabel:"home",displayBreadcrumb:!0,theme:"default",colorScheme:"default",colorSchemeViewer:"none",items:null,itemsBaseURL:"",maxItemsPerLine:0,maxWidth:0,viewer:"internal",thumbnailWidth:230,thumbnailHeight:154,thumbnailHoverEffect:null,thumbnailLabel:{position:"overImageOnBottom",display:!0,displayDescription:!0},
preset:"none"},D);return this.each(function(e){r=jQuery(this)[0].outerHTML;C=jQuery('<div class="nanoGalleryDemo" style="padding:5px"></div>').replaceAll(this);e='<option style="color:#000">none</option><option style="color:#000">slideUp</option><option style="color:#000">slideDown</option><option style="color:#000">slideLeft</option><option style="color:#000">slideRight</option><option style="color:#000">imageSlideUp</option><option style="color:#000">imageSlideDown</option><option style="color:#000">imageSlideLeft</option><option style="color:#000">imageSlideRight</option>';
e+='<option style="color:#000">labelAppear</option><option style="color:#000">labelAppear75</option><option style="color:#000">labelSlideDown</option><option style="color:#000">labelSlideUp</option>';e+='<option style="color:#000">labelOpacity50</option>';e+='<option style="color:#000">borderLighter</option><option style="color:#000">borderDarker</option><option style="color:#000">imageInvisible</option>';e+='<option style="color:#000"></option><option style="color:#000">imageScale150*</option><option style="color:#000">imageScale150Outside*</option><option style="color:#000">scale120*</option>';
e+='<option style="color:#000">overScale*</option>';e+='<option style="color:#000">overScaleOutside*</option><option style="color:#000">scaleLabelOverImage*</option>';e+='<option style="color:#000">imageFlipHorizontal*</option><option style="color:#000">imageFlipVertical*</option>';e+='<option style="color:#000">rotateCornerBR*</option><option style="color:#000">rotateCornerBL*</option><option style="color:#000">imageRotateCornerBR*</option><option style="color:#000">imageRotateCornerBL*</option>';
var g;g='<div style="margin:10px auto 30px auto;width:400px;text-align:center;border:1px solid #555;background:#000;padding:5px;font-size:1.2em;"><span style="color:#d3d3d3;">nano</span><span style="color:#6e6;">GALLERY</span> - demonstration panel</div>'+('<div style="display:inline-block;">Thumbnail hover effect 1:&nbsp;<select name="lHoverEffect1" style="color:#000">'+e+"</select></div>");g+='<br><div style="display:inline-block;">Thumbnail hover effect 2:&nbsp;<select name="lHoverEffect2" style="color:#000">'+
e+"</select></div>";g+='<br><div style="display:inline-block;">Thumbnail hover effect 3:&nbsp;<select name="lHoverEffect3" style="color:#000">'+e+"</select></div>";g+='<br><div style="display:inline-block;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*: requires Transit plugin</div><br><br><div style="display:inline-block;">Thumbnail size:&nbsp;Width (px):&nbsp;<input type="text" name="thumbWidth" value="100" style="width:50px;color:#000">&nbsp;&nbsp;Height (px):&nbsp;<input type="text" name="thumbHeight" value="100" style="width:50px;color:#000"></div>';
g+="<br><br><div>Thumbnail label: </div>";g+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Position: <form style="display:inline-block;"><input type="radio" name="thumbnailLabelPosition" value="overImageOnBottom" checked>overImageOnBottom&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="thumbnailLabelPosition" value="overImageOnTop">overImageOnTop&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="thumbnailLabelPosition" value="onBottom">onBottom</form>';g+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" name="thumbnailLabelDisplay" value="true" checked>Display label';
g+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" name="thumbnailLabelDisplayDescription" value="true" checked>Display description';g+="<br><br><div>Color scheme: ";g+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<form style="display:inline-block;"><input type="radio" name="colorScheme" value="none" checked>none &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="colorScheme" value="dark">dark &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="colorScheme" value="darkRed">darkRed &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;';
g+='<input type="radio" name="colorScheme" value="darkGreen">darkGreen &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="colorScheme" value="darkBlue">darkBlue &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;';g+='<input type="radio" name="colorScheme" value="darkOrange">darkOrange &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="colorScheme" value="light">light';g+="</form></div>";g+="<br><div>CSS file: ";g+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<form style="display:inline-block;"><input type="radio" name="cssFile" value="default" checked>default &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="cssFile" value="clean">clean</form></div>';
g+="<br><div>Background color (not a nanoGALLERY parameter): ";g+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<form style="display:inline-block;"><input type="radio" name="backgroundColor" value="dark" checked>Dark&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="backgroundColor" value="light">Light</form></div>';g+='<div style="display:table;margin:auto;"><button name="bGo" "type="button" style="color:#000;padding:5px 15px;margin:5px;">Launch</button></div>';g+='<hr><div style="display:table;margin:15px auto;text-align:center;">';
g+='<button name="bPreset1" "type="button" style="color:#000;padding:4px;">Preset 1</button>';g+='<button name="bPreset2" type="button" style="color:#000;padding:4px;">Preset 2</button>';g+='<button name="bPreset3" type="button" style="color:#000;padding:4px;">Preset 3</button>';g+='<button name="bPreset4" type="button" style="color:#000;padding:4px;">Preset 4</button>';g+='<button name="bPreset5" type="button" style="color:#000;padding:4px;">Preset 5</button></div>';h=jQuery(C).append('<div class="nanoGalleryDemoPanel" style="display:table;border:2px solid #666;background:#555;margin:10px auto;padding:5px;font-size:0.8em;">'+
g+"</div>");E=jQuery(r).appendTo(C);jQuery(h).find("[name=lHoverEffect1]").val("borderLighter");(new nanoGALLERY).Initiate(E,l);jQuery(h).find("button[name=bGo]").on("click",function(){G()});jQuery(h).find("button[name=bPreset1]").on("click",function(){A("borderLighter","imageSlideRight","none","overImageOnBottom",!0,!0,"dark")});jQuery(h).find("button[name=bPreset2]").on("click",function(){A("imageRotateCornerBL*","scale120*","borderLighter","overImageOnBottom",!0,!0,"dark")});jQuery(h).find("button[name=bPreset3]").on("click",
function(){A("imageScale150*","labelSlideUp","none","overImageOnBottom",!0,!0,"dark")});jQuery(h).find("button[name=bPreset4]").on("click",function(){A("imageInvisible","imageScale150Outside*","none","overImageOnBottom",!0,!0,"light")});jQuery(h).find("button[name=bPreset5]").on("click",function(){A("none","none","none","overImageOnBottom",!0,!0,"dark")})})}})(jQuery);
function nanoGALLERY(){function q(){p.length=0;jQuery.each(c.items,function(b,a){var v=Array(5);v.title=a.title;v.thumbsrc=void 0!==a.srct&&0<a.srct.length?c.itemsBaseURL+a.srct:c.itemsBaseURL+a.src;v.src=c.itemsBaseURL+a.src;"string"==N(a.description)?v.description=a.description:v.description="";v.destinationURL=void 0!==a.destURL&&0<a.destURL.length?a.destURL:"";v.kind="image";p.push(v)});h()}function D(b){p.length=0;jQuery.each(b,function(b,s){var a=Array(5);a.title=jQuery(s).text();void 0!==jQuery(s).attr("data-ngthumb")&&
0<jQuery(s).attr("data-ngthumb").length?a.thumbsrc=c.itemsBaseURL+jQuery(s).attr("data-ngthumb"):a.thumbsrc=c.itemsBaseURL+jQuery(s).attr("href");a.src=c.itemsBaseURL+jQuery(s).attr("href");a.description=jQuery(s).attr("data-ngdesc");void 0!==jQuery(s).attr("data-ngdesc")&&0<jQuery(s).attr("data-ngdesc").length?a.description=jQuery(s).attr("data-ngdesc"):a.description="";void 0!==jQuery(s).attr("data-ngdest")&&0<jQuery(s).attr("data-ngdest").length?a.destURL=jQuery(s).attr("data-ngdest"):a.destURL=
"";a.kind="image";p.push(a)});jQuery.each(b,function(b,c){jQuery(c).remove()});h()}function A(b,a){if(!0==c.displayBreadcrumb&&""!=a){0<jQuery(J).children().length&&jQuery('<div class="separator"></div>').appendTo(J);var v=jQuery('<div class="folder">'+a+"</div>").appendTo(J);jQuery(v).data("path",b);v.click(function(){var b=jQuery(this).data("path");jQuery(this).nextAll().remove();A(b,"")})}""==b?(v="http://api.flickr.com/services/rest/?&method=flickr.photosets.getList&api_key="+g_flickrApiKey+"&user_id="+
c.userID+"&format=json&jsoncallback=?",kind="album",jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0,jQuery.jsonp({url:v,success:function(c){p.length=0;var a=!0;void 0!==c.stat&&"fail"===c.stat&&(alert("nanoGALLERY - Could not retrieve Flickr photoset list: "+c.message+" (code: "+c.code+")."),a=!1);a&&(jQuery.each(c.photosets.photoset,function(c,a){itemTitle=a.title._content;b=a.id;itemDescription="";void 0!=a.description._content&&(itemDescription=a.description._content);itemThumbURL="http://farm"+
a.farm+".staticflickr.com/"+a.server+"/"+a.primary+"_"+a.secret+"_"+T+".jpg";imgUrl="";itemKind=kind;C(itemTitle)&&(newObj=Array(5),newObj.title=itemTitle,newObj.thumbsrc=itemThumbURL,newObj.src=b,newObj.description=itemDescription,newObj.destinationURL="",newObj.kind=itemKind,p.push(newObj))}),h())},error:function(b,c){alert("nanoGALLERY - Could not retrieve Flickr photoset list: "+c)}})):(v="http://api.flickr.com/services/rest/?&method=flickr.photosets.getPhotos&api_key="+g_flickrApiKey+"&photoset_id="+
b+"&extras=description,views,url_s,url_o,url_m&format=json&jsoncallback=?",kind="photo",jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0,jQuery.jsonp({url:v,success:function(c){p.length=0;jQuery.each(c.photoset.photo,function(c,a){itemTitle=a.title;b=a.id;itemDescription=a.description._content;itemThumbURL="http://farm"+a.farm+".staticflickr.com/"+a.server+"/"+a.id+"_"+a.secret+"_"+T+".jpg";imgUrl="http://farm"+a.farm+".staticflickr.com/"+a.server+"/"+a.id+"_"+a.secret+"_o.jpg";itemKind=kind;var m=
Array(5);m.title=itemTitle;m.thumbsrc=itemThumbURL;m.src=a.url_o;m.description=itemDescription;m.destinationURL="";m.kind=itemKind;p.push(m)});h()},error:function(b,c){alert("nanoGALLERY - Could not retrieve Flickr photo list: "+c)}}))}function G(b,a){var v="";if(""==b)var k="http://picasaweb.google.com/data/feed/api/user/"+c.userID+"?alt=json&kind=album&thumbsize="+U,v="album";else k="http://picasaweb.google.com/data/feed/api/user/"+c.userID+"/albumid/"+b+"?alt=json&kind=photo&thumbsize="+U+"&imgmax=d",
v="photo";if(!0==c.displayBreadcrumb&&""!=a){0<jQuery(J).children().length&&jQuery('<div class="separator"></div>').appendTo(J);var d=jQuery('<div class="folder">'+a+"</div>").appendTo(J);jQuery(d).data("path",b);d.click(function(){var b=jQuery(this).data("path");jQuery(this).nextAll().remove();G(b,"")})}jQuery.ajaxSetup({cache:!1});jQuery.support.cors=!0;jQuery.jsonp({url:k+"&callback=?",success:function(c){p.length=0;jQuery.each(c.feed.entry,function(c,a){itemTitle=a.media$group.media$title.$t;
itemThumbURL=a.media$group.media$thumbnail[0].url;b=a.id.$t;b=b.split("/")[9].split("?")[0];itemDescription=a.media$group.media$description.$t;"photo"==v&&(itemTitle=itemDescription,itemDescription="");imgUrl=a.media$group.media$content[0].url;itemKind=v;var m=!0;"album"==v&&(C(itemTitle)||(m=!1));m&&(newObj=Array(5),newObj.title=itemTitle,newObj.thumbsrc=itemThumbURL,newObj.src="album"==v?b:imgUrl,newObj.description=itemDescription,newObj.destinationURL="",newObj.kind=itemKind,p.push(newObj))});
h()},error:function(b,c){alert("nanoGALLERY - Could not retrieve Picasa/Google+ data: "+c)}})}function C(b){b=b.toUpperCase();if(null!==O)for(var c=0;c<O.length;c++){if(b==O[c].toUpperCase())return!0}else{var a=!1;if(null!==P){for(c=0;c<P.length;c++)-1!==b.indexOf(P[c])&&(a=!0);if(!a)return!1}if(null!==Q)for(c=0;c<Q.length;c++)if(-1!==b.indexOf(Q[c]))return!1;return!0}}function h(){var b=jQuery(B).parent();jQuery(B).animate({"max-height":"0"},200);jQuery(b).animate({opacity:0},100).promise().done(function(){R=
!1;jQuery(B).children().remove();jQuery(b).css("opacity","1");E()})}function E(){w=t=0;var a=!1;"onBottom"==c.thumbnailLabel.position&&jQuery.each(p,function(b,c){0<c.description.length&&(a=!0)});jQuery.each(p,function(m,k){var d=jQuery('<div class="container"></div>'),n=jQuery('<div class="subcontainer"></div>'),f=jQuery('<div class="imgContainer" style="width:'+c.thumbnailWidth+"px;height:"+c.thumbnailHeight+'px;"><img class="image" src="'+k.thumbsrc+'" style="max-width:'+c.thumbnailWidth+"px;max-height:"+
c.thumbnailHeight+'px;"></div>');jQuery(n).append(f);if("album"==k.kind)!0==c.thumbnailLabel.display&&(jQuery(n).append('<div class="iconInfo"></div>'),f="",!0==c.thumbnailLabel.displayDescription&&(f=k.description),f=jQuery('<div class="labelImage" style="width:'+c.thumbnailWidth+"px;max-height:"+c.thumbnailHeight+'px;"><div class="labelFolderTitle">'+k.title+'</div><div class="labelDescription">'+f+"</div></div>"),jQuery(n).append(f));else{var e=k.title;if(!0==c.thumbnailLabel.display){if(void 0===
e||0==e.length)e="&nbsp;";f="";!0==c.thumbnailLabel.displayDescription&&(f=k.description);a&&0==f.length&&"onBottom"==c.thumbnailLabel.position&&(f="&nbsp;");if(-1!=g_betamax&&m>=g_betamax)return!1;f=jQuery('<div class="labelImage" style="width:'+c.thumbnailWidth+"px;max-height:"+c.thumbnailHeight+'px;"><div class="labelImageTitle">'+e+'</div><div class="labelDescription">'+f+"</div></div>");jQuery(n).append(f)}}jQuery(d).append(n);jQuery(d).css("opacity","0");d=jQuery(d).appendTo(B);switch(c.thumbnailLabel.position){case "onBottom":jQuery(d).find(".labelImage").css("top",
"0");jQuery(d).find(".labelImage").css("position","relative");jQuery(d).find(".labelImageTitle").css("white-space","nowrap");jQuery(d).find(".labelImageFolder").css("white-space","nowrap");jQuery(d).find(".labelDescription").css("white-space","nowrap");break;case "overImageOnTop":jQuery(d).find(".labelImage").css("top","0");break;default:c.thumbnailLabel.position="overImageOnBottom",jQuery(d).find(".labelImage").css("bottom","0")}0==t&&(t=jQuery(d).outerWidth(!0));0==w&&(w=jQuery(d).outerHeight(!0));
jQuery(d).data("index",m);r(d);z=jQuery(d).css("border-color");if(""==z||null==z||void 0==z)z="#000";V=jQuery(d).find(".labelImage").css("opacity");jQuery(d).hover(function(){jQuery(this).find("*").stop(!0,!0);try{for(j=0;j<b.length;j++)switch(b[j].name){case "scaleLabelOverImage":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position)g_supportTransit?(jQuery(this).find(".labelImage").transition({opacity:"1",scale:"1"},b[j].duration,b[j].easing),jQuery(this).find(".imgContainer").transition({scale:"0.5"},
b[j].duration,b[j].easing)):(jQuery(this).find(".labelImage").animate({opacity:"1",scale:"1"},b[j].duration,b[j].easing),jQuery(this).find(".imgContainer").animate({scale:"0.5"},b[j].duration,b[j].easing));break;case "overScale":case "overScaleOutside":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position)g_supportTransit?(jQuery(this).find(".labelImage").transition({opacity:"1",scale:"1"},b[j].duration,b[j].easing),jQuery(this).find(".imgContainer").transition({opacity:"0",
scale:"0.5"},b[j].duration,b[j].easing)):(jQuery(this).find(".labelImage").animate({opacity:"1",scale:"1"},b[j].duration,b[j].easing),jQuery(this).find(".imgContainer").animate({opacity:"0",scale:"0.5"},b[j].duration,b[j].easing));break;case "imageInvisible":g_supportTransit?jQuery(this).find(".imgContainer").transition({opacity:"0"},b[j].duration,b[j].easing):jQuery(this).find(".imgContainer").animate({opacity:"0"},b[j].duration,b[j].easing);break;case "rotateCornerBL":!g_supportTransit||"overImageOnTop"!=
c.thumbnailLabel.position&&"overImageOnBottom"!=c.thumbnailLabel.position||(jQuery(this).find(".labelImage").transition({rotate:"0deg"},b[j].duration,b[j].easing),jQuery(this).find(".imgContainer").transition({rotate:"90deg"},b[j].duration,b[j].easing));break;case "rotateCornerBR":!g_supportTransit||"overImageOnTop"!=c.thumbnailLabel.position&&"overImageOnBottom"!=c.thumbnailLabel.position||(jQuery(this).find(".labelImage").transition({rotate:"0deg"},b[j].duration,b[j].easing),jQuery(this).find(".imgContainer").transition({rotate:"-90deg"},
b[j].duration,b[j].easing));break;case "imageRotateCornerBL":g_supportTransit&&("overImageOnTop"!=c.thumbnailLabel.position&&"overImageOnBottom"!=c.thumbnailLabel.position||jQuery(this).find(".imgContainer").transition({rotate:"90deg"},b[j].duration,b[j].easing));break;case "imageRotateCornerBR":g_supportTransit&&("overImageOnTop"!=c.thumbnailLabel.position&&"overImageOnBottom"!=c.thumbnailLabel.position||jQuery(this).find(".imgContainer").transition({rotate:"-90deg"},b[j].duration,b[j].easing));
break;case "slideUp":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position){var a="-"+w+"px";g_supportTransit?(jQuery(this).find(".imgContainer").transition({top:a},b[j].duration,b[j].easing),jQuery(this).find(".labelImage").transition({top:0},b[j].duration,b[j].easing)):(jQuery(this).find(".imgContainer").animate({top:a},b[j].duration,b[j].easing),jQuery(this).find(".labelImage").animate({top:0},b[j].duration,b[j].easing))}break;case "slideDown":if("overImageOnTop"==
c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position)a=w+"px",g_supportTransit?(jQuery(this).find(".imgContainer").transition({top:a},b[j].duration,b[j].easing),jQuery(this).find(".labelImage").transition({top:0},b[j].duration,b[j].easing)):(jQuery(this).find(".imgContainer").animate({top:a},b[j].duration,b[j].easing),jQuery(this).find(".labelImage").animate({top:0},b[j].duration,b[j].easing));break;case "slideRight":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==
c.thumbnailLabel.position)a=t+"px",g_supportTransit?(jQuery(this).find(".imgContainer").transition({left:a},b[j].duration,b[j].easing),jQuery(this).find(".labelImage").transition({left:0},b[j].duration,b[j].easing)):(jQuery(this).find(".imgContainer").animate({left:a},b[j].duration,b[j].easing),jQuery(this).find(".labelImage").animate({left:0},b[j].duration,b[j].easing));break;case "slideLeft":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position)a="-"+t+"px",
g_supportTransit?(jQuery(this).find(".imgContainer").transition({left:a},b[j].duration,b[j].easing),jQuery(this).find(".labelImage").transition({left:0},b[j].duration,b[j].easing)):(jQuery(this).find(".imgContainer").animate({left:a},b[j].duration,b[j].easing),jQuery(this).find(".labelImage").animate({left:0},b[j].duration,b[j].easing));break;case "imageSlideUp":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position)a="-"+w+"px",g_supportTransit?jQuery(this).find(".imgContainer").transition({top:a},
b[j].duration,b[j].easing):jQuery(this).find(".imgContainer").animate({top:a},b[j].duration,b[j].easing);break;case "imageSlideDown":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position)a=w+"px",g_supportTransit?jQuery(this).find(".imgContainer").transition({top:a},b[j].duration,b[j].easing):jQuery(this).find(".imgContainer").animate({top:a},b[j].duration,b[j].easing);break;case "imageSlideLeft":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==
c.thumbnailLabel.position)a="-"+t+"px",g_supportTransit?jQuery(this).find(".imgContainer").transition({left:a},b[j].duration,b[j].easing):jQuery(this).find(".imgContainer").animate({left:a},b[j].duration,b[j].easing);break;case "imageSlideRight":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position)a=t+"px",g_supportTransit?jQuery(this).find(".imgContainer").transition({left:a},b[j].duration,b[j].easing):jQuery(this).find(".imgContainer").animate({left:a},
b[j].duration,b[j].easing);break;case "labelAppear":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position)g_supportTransit?jQuery(this).find(".labelImage").transition({opacity:"1"},b[j].duration,b[j].easing):jQuery(this).find(".labelImage").animate({opacity:"1"},b[j].duration,b[j].easing);break;case "labelAppear75":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position)g_supportTransit?jQuery(this).find(".labelImage").transition({opacity:"0.75"},
b[j].duration,b[j].easing):jQuery(this).find(".labelImage").animate({opacity:"0.75"},b[j].duration,b[j].easing);break;case "labelSlideDown":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position)g_supportTransit?jQuery(this).find(".labelImage").transition({top:0},b[j].duration,b[j].easing):jQuery(this).find(".labelImage").animate({top:0},b[j].duration,b[j].easing);break;case "labelSlideUp":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==
c.thumbnailLabel.position)g_supportTransit?jQuery(this).find(".labelImage").transition({bottom:0},b[j].duration,b[j].easing):jQuery(this).find(".labelImage").animate({bottom:0},b[j].duration,b[j].easing);break;case "labelOpacity50":g_supportTransit?jQuery(this).find(".labelImage").transition({opacity:0.5},b[j].duration,b[j].easing):jQuery(this).find(".labelImage").animate({opacity:0.5},b[j].duration,b[j].easing);break;case "borderLighter":g_supportTransit?jQuery(this).transition({borderColor:F(z,
0.5,!1)},b[j].duration,b[j].easing):jQuery(this).animate({borderTopColor:F(z,0.5,!1),borderRightColor:F(z,0.5,!1),borderBottomColor:F(z,0.5,!1),borderLeftColor:F(z,0.5,!1)},b[j].duration,b[j].easing);break;case "borderDarker":g_supportTransit?jQuery(this).transition({borderColor:F(z,0.5,!0)},b[j].duration,b[j].easing):jQuery(this).animate({borderTopColor:F(z,0.5,!0),borderRightColor:F(z,0.5,!0),borderBottomColor:F(z,0.5,!0),borderLeftColor:F(z,0.5,!0)},b[j].duration,b[j].easing);break;case "imageScale150":g_supportTransit?
jQuery(this).find("img").transition({scale:1.5},b[j].duration,b[j].easing):jQuery(this).find("img").animate({scale:1.5},b[j].duration,b[j].easing);break;case "imageScale150Outside":x("",this);g_supportTransit?jQuery(this).find("img").transition({scale:1.5},b[j].duration,b[j].easing):jQuery(this).find("img").animate({scale:1.5},b[j].duration,b[j].easing);break;case "scale120":x("",this);g_supportTransit?jQuery(this).transition({scale:1.2},b[j].duration,b[j].easing):jQuery(this).animate({scale:1.2},
b[j].duration,b[j].easing);break;case "imageFlipHorizontal":g_supportTransit&&(x("",this),a=Math.round(1.2*w)+"px",jQuery(this).find(".imgContainer").transition({perspective:a,rotateX:"180deg"},b[j].duration,b[j].easing),jQuery(this).find(".labelImage").transition({perspective:a,rotateX:"360deg"},b[j].duration,b[j].easing));break;case "imageFlipVertical":g_supportTransit&&(x("",this),a=Math.round(1.2*t)+"px",jQuery(this).find(".imgContainer").transition({perspective:a,rotateY:"180deg"},b[j].duration,
b[j].easing),jQuery(this).find(".labelImage").transition({perspective:a,rotateY:"360deg"},b[j].duration,b[j].easing));break;case "flipHorizontal":g_supportTransit&&(x("",this),a=Math.round(1.2*w)+"px",jQuery(this).transition({perspective:a,rotateX:"180deg"},b[j].duration,b[j].easing));break;case "flipVertical":g_supportTransit&&(x("",this),a=Math.round(1.2*t)+"px",jQuery(this).transition({perspective:a,rotateY:"180deg"},b[j].duration,b[j].easing));break;case "TEST":jQuery(this).find(".subcontainer").transition({scale:0.8},
150).transition({perspective:"50px",rotateX:"180deg"},300,"ease").transition({scale:1},150)}}catch(s){W("error on hover "+s.message)}},function(){jQuery(this).find("*").stop(!0,!1);try{for(j=0;j<b.length;j++)switch(b[j].name){case "scaleLabelOverImage":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position)g_supportTransit?(jQuery(this).find(".labelImage").transition({opacity:"0",scale:"0.5"},b[j].durationBack,b[j].easingBack),jQuery(this).find(".imgContainer").transition({scale:"1"},
b[j].durationBack,b[j].easingBack)):(jQuery(this).find(".labelImage").animate({opacity:"0",scale:"0.5"},b[j].durationBack,b[j].easingBack),jQuery(this).find(".imgContainer").animate({scale:"1"},b[j].durationBack,b[j].easingBack));break;case "overScale":case "overScaleOutside":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position)g_supportTransit?(jQuery(this).find(".labelImage").transition({opacity:"0",scale:"1.5"},b[j].durationBack,b[j].easingBack),jQuery(this).find(".imgContainer").transition({opacity:"1",
scale:"1"},b[j].durationBack,b[j].easingBack)):(jQuery(this).find(".labelImage").animate({opacity:"0",scale:"1.5"},b[j].durationBack,b[j].easingBack),jQuery(this).find(".imgContainer").animate({opacity:"1",scale:"1"},b[j].durationBack,b[j].easingBack));break;case "imageInvisible":g_supportTransit?jQuery(this).find(".imgContainer").transition({opacity:"1"},b[j].durationBack,b[j].easingBack):jQuery(this).find(".imgContainer").animate({opacity:"1"},b[j].durationBack,b[j].easingBack);break;case "rotateCornerBL":!g_supportTransit||
"overImageOnTop"!=c.thumbnailLabel.position&&"overImageOnBottom"!=c.thumbnailLabel.position||(jQuery(this).find(".labelImage").transition({rotate:"-90deg"},b[j].duration,b[j].easing),jQuery(this).find(".imgContainer").transition({rotate:"0deg"},b[j].duration,b[j].easing));break;case "rotateCornerBR":!g_supportTransit||"overImageOnTop"!=c.thumbnailLabel.position&&"overImageOnBottom"!=c.thumbnailLabel.position||(jQuery(this).find(".labelImage").transition({rotate:"90deg"},b[j].duration,b[j].easing),
jQuery(this).find(".imgContainer").transition({rotate:"0deg"},b[j].duration,b[j].easing));break;case "imageRotateCornerBL":case "imageRotateCornerBR":g_supportTransit&&("overImageOnTop"!=c.thumbnailLabel.position&&"overImageOnBottom"!=c.thumbnailLabel.position||jQuery(this).find(".imgContainer").transition({rotate:"0"},b[j].durationBack,b[j].easingBack));break;case "slideUp":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position){var a=w+"px";g_supportTransit?
(jQuery(this).find(".imgContainer").transition({top:0},b[j].duration,b[j].easing),jQuery(this).find(".labelImage").transition({top:a},b[j].duration,b[j].easing)):(jQuery(this).find(".imgContainer").animate({top:0},b[j].duration,b[j].easing),jQuery(this).find(".labelImage").animate({top:a},b[j].duration,b[j].easing))}break;case "slideDown":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position)a="-"+w+"px",g_supportTransit?(jQuery(this).find(".imgContainer").transition({top:0},
b[j].duration,b[j].easing),jQuery(this).find(".labelImage").transition({top:a},b[j].duration,b[j].easing)):(jQuery(this).find(".imgContainer").animate({top:0},b[j].duration,b[j].easing),jQuery(this).find(".labelImage").animate({top:a},b[j].duration,b[j].easing));break;case "slideRight":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position)a="-"+t+"px",g_supportTransit?(jQuery(this).find(".imgContainer").transition({left:0},b[j].duration,b[j].easing),jQuery(this).find(".labelImage").transition({left:a},
b[j].duration,b[j].easing)):(jQuery(this).find(".imgContainer").animate({left:0},b[j].duration,b[j].easing),jQuery(this).find(".labelImage").animate({left:a},b[j].duration,b[j].easing));break;case "slideLeft":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position)a=t+"px",g_supportTransit?(jQuery(this).find(".imgContainer").transition({left:0},b[j].duration,b[j].easing),jQuery(this).find(".labelImage").transition({left:a},b[j].duration,b[j].easing)):(jQuery(this).find(".imgContainer").animate({left:0},
b[j].duration,b[j].easing),jQuery(this).find(".labelImage").animate({left:a},b[j].duration,b[j].easing));break;case "imageSlideUp":case "imageSlideDown":case "imageSlideLeft":case "imageSlideRight":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position)g_supportTransit?(jQuery(this).find(".imgContainer").transition({top:"0"},b[j].durationBack,b[j].easingBack),jQuery(this).find(".imgContainer").transition({left:"0"},b[j].durationBack,b[j].easingBack)):(jQuery(this).find(".imgContainer").animate({top:"0"},
b[j].durationBack,b[j].easingBack),jQuery(this).find(".imgContainer").animate({left:"0"},b[j].durationBack,b[j].easingBack));break;case "labelAppear":case "labelAppear75":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position)g_supportTransit?jQuery(this).find(".labelImage").transition({opacity:"0"},b[j].durationBack,b[j].easingBack):jQuery(this).find(".labelImage").animate({opacity:"0"},b[j].durationBack,b[j].easingBack);break;case "labelSlideDown":if("overImageOnTop"==
c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position)g_supportTransit?jQuery(this).find(".labelImage").transition({top:"-99%"},b[j].durationBack,b[j].easingBack):jQuery(this).find(".labelImage").animate({top:"-99%"},b[j].durationBack,b[j].easingBack);break;case "labelSlideUp":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position)g_supportTransit?jQuery(this).find(".labelImage").transition({bottom:"-99%"},b[j].durationBack,b[j].easingBack):
jQuery(this).find(".labelImage").animate({bottom:"-99%"},b[j].durationBack,b[j].easingBack);break;case "labelOpacity50":g_supportTransit?jQuery(this).find(".labelImage").transition({opacity:V},b[j].durationBack,b[j].easingBack):jQuery(this).find(".labelImage").animate({opacity:V},b[j].durationBack,b[j].easingBack);break;case "borderLighter":case "borderDarker":g_supportTransit?jQuery(this).transition({borderColor:z},b[j].durationBack,b[j].easingBack):jQuery(this).animate({borderTopColor:z,borderRightColor:z,
borderBottomColor:z,borderLeftColor:z},b[j].duration,b[j].easing);break;case "imageScale150":case "imageScale150Outside":g_supportTransit?jQuery(this).find("img").transition({scale:1},b[j].durationBack,b[j].easingBack):jQuery(this).find("img").animate({scale:1},b[j].durationBack,b[j].easingBack);break;case "scale120":g_supportTransit?jQuery(this).transition({scale:1},b[j].durationBack,b[j].easingBack):jQuery(this).animate({scale:1},b[j].durationBack,b[j].easingBack);break;case "imageFlipHorizontal":g_supportTransit&&
(a=Math.round(1.2*w)+"px",jQuery(this).find(".imgContainer").transition({perspective:a,rotateX:"0deg"},b[j].duration,b[j].easing),jQuery(this).find(".labelImage").transition({perspective:a,rotateX:"180deg"},b[j].duration,b[j].easing));break;case "imageFlipVertical":g_supportTransit&&(a=Math.round(1.2*t)+"px",jQuery(this).find(".imgContainer").transition({perspective:a,rotateY:"0deg"},b[j].duration,b[j].easing),jQuery(this).find(".labelImage").transition({perspective:a,rotateY:"180deg"},b[j].duration,
b[j].easing));break;case "flipHorizontal":g_supportTransit&&(a=Math.round(1.2*w)+"px",jQuery(this).transition({perspective:a,rotateX:"0deg"},b[j].durationBack,b[j].easingBack));break;case "flipVertical":g_supportTransit&&(a=Math.round(1.2*t)+"px",jQuery(this).transition({perspective:a,rotateY:"0deg"},b[j].durationBack,b[j].easingBack));break;case "TEST":jQuery(this).find(".subcontainer").transition({scale:0.85},150).transition({perspective:"50px",rotateX:"0deg"},300,"ease").transition({scale:1},150)}}catch(s){W("error on hoverOut "+
s.message)}});d.click(function(){var b=jQuery(this).data("index");if(void 0!==p[b].destinationURL&&0<p[b].destinationURL.length)window.location=p[b].destinationURL;else if("album"==p[b].kind)"picasa"==c.kind?G(p[b].src,p[b].title):A(p[b].src,p[b].title);else if("fancybox"==c.viewer){var b=jQuery(this).data("index"),a=Array(p.length),s=0;a[s]={};a[s].href=p[b].src;a[s].title=p[b].title;for(var m=b+1;m<p.length;m++)s++,a[s]={},a[s].href=p[m].src,a[s].title=p[m].title;for(m=0;m<b;m++)s++,a[s]={},a[s].href=
p[m].src,a[s].title=p[m].title;jQuery.fancybox.open(a,{autoPlay:!1,nextEffect:"fade",prevEffect:"fade",scrolling:"no",helpers:{buttons:{position:"bottom"}}})}else g(this)})});e();var m=l();jQuery(B).animate({maxHeight:m},200,function(){jQuery(B).find(".container").each(function(b){jQuery(this).delay(50*b++).fadeTo(200,1)});R=!0})}function r(a){var m=!1;for(j=0;j<b.length;j++){switch(b[j].name){case "scaleLabelOverImage":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position)x("",
jQuery(a).find(".imgContainer")),jQuery(a).find(".labelImage").css({opacity:"0",scale:0.5}),jQuery(a).find(".imgContainer").css({scale:"1"});break;case "overScale":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position)jQuery(a).css("overflow","hidden"),x("",jQuery(a).find(".labelImage")),jQuery(a).find(".labelImage").css({opacity:"0",scale:1.5}),jQuery(a).find(".imgContainer").css({opacity:"1",scale:"1"});break;case "overScaleOutside":if("overImageOnTop"==
c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position)x("",jQuery(a).find(".labelImage")),jQuery(a).find(".labelImage").css({opacity:"0",scale:1.5}),jQuery(a).find(".imgContainer").css({opacity:"1",scale:"1"});break;case "rotateCornerBL":"overImageOnTop"!=c.thumbnailLabel.position&&"overImageOnBottom"!=c.thumbnailLabel.position||!g_supportTransit||(jQuery(a).css("overflow","hidden"),jQuery(a).find(".labelImage").css("opacity","1").css({rotate:"-90deg","transform-origin":"100% 100%"}),
jQuery(a).find(".imgContainer").css({rotate:"0","transform-origin":"100% 100%"}),m=!0);break;case "rotateCornerBR":"overImageOnTop"!=c.thumbnailLabel.position&&"overImageOnBottom"!=c.thumbnailLabel.position||!g_supportTransit||(jQuery(a).css("overflow","hidden"),jQuery(a).find(".labelImage").css("opacity","1").css({rotate:"90deg","transform-origin":"0% 100%"}),jQuery(a).find(".imgContainer").css({rotate:"0","transform-origin":"0 100%"}),m=!0);break;case "imageRotateCornerBL":"overImageOnTop"!=c.thumbnailLabel.position&&
"overImageOnBottom"!=c.thumbnailLabel.position||!g_supportTransit||(x(a,jQuery(a).find(".imgContainer")),jQuery(a).css("overflow","hidden"),jQuery(a).find(".labelImage").css("opacity","1"),jQuery(a).find(".imgContainer").css({rotate:"0","transform-origin":"100% 100%"}),m=!0);break;case "imageRotateCornerBR":"overImageOnTop"!=c.thumbnailLabel.position&&"overImageOnBottom"!=c.thumbnailLabel.position||!g_supportTransit||(x(a,jQuery(a).find(".imgContainer")),jQuery(a).css("overflow","hidden"),jQuery(a).find(".labelImage").css("opacity",
"1"),jQuery(a).find(".imgContainer").css({rotate:"0","transform-origin":"0 100%"}),m=!0);break;case "slideUp":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position)jQuery(a).css("overflow","hidden"),jQuery(a).find(".labelImage").css("opacity","1").css("top",w),jQuery(a).find(".imgContainer").css({left:"0",top:"0"});break;case "slideDown":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position)jQuery(a).css("overflow",
"hidden"),jQuery(a).find(".labelImage").css("opacity","1").css("top",-w),jQuery(a).find(".imgContainer").css({left:"0",top:"0"});break;case "slideRight":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position)jQuery(a).css("overflow","hidden"),jQuery(a).find(".labelImage").css("opacity","1").css("left",-t),jQuery(a).find(".imgContainer").css({left:"0",top:"0"});break;case "slideLeft":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position)jQuery(a).css("overflow",
"hidden"),jQuery(a).find(".labelImage").css("opacity","1").css("left",t),jQuery(a).find(".imgContainer").css({left:"0",top:"0"});break;case "imageSlideUp":case "imageSlideDown":case "imageSlideRight":case "imageSlideLeft":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position)x(a,jQuery(a).find(".imgContainer")),jQuery(a).css("overflow","hidden"),jQuery(a).find(".labelImage").css("opacity","1"),jQuery(a).find(".imgContainer").css({left:"0",top:"0"});break;case "labelAppear":case "labelAppear75":"overImageOnTop"!=
c.thumbnailLabel.position&&"overImageOnBottom"!=c.thumbnailLabel.position||jQuery(a).find(".labelImage").css("opacity","0");break;case "labelSlideUp":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position)jQuery(a).css("overflow","hidden"),jQuery(a).find(".labelImage").css({bottom:-w,top:"none"});break;case "labelSlideDown":if("overImageOnTop"==c.thumbnailLabel.position||"overImageOnBottom"==c.thumbnailLabel.position)jQuery(a).css("overflow","hidden"),jQuery(a).find(".labelImage").css({top:-w,
bottom:"none"});break;case "imageFlipHorizontal":g_supportTransit&&(m=Math.round(1.2*w)+"px",jQuery(a).find(".imgContainer").css({perspective:m,rotateX:"0deg","backface-visibility":"hidden"}),jQuery(a).find(".labelImage").css({perspective:m,rotateX:"180deg","backface-visibility":"hidden",height:w,opacity:"1"}),m=!0);break;case "imageFlipVertical":g_supportTransit&&(m=Math.round(1.2*t)+"px",jQuery(a).find(".imgContainer").css({perspective:m,rotateY:"0deg","backface-visibility":"hidden"}),jQuery(a).find(".labelImage").css({perspective:m,
rotateY:"180deg","backface-visibility":"hidden",height:w,opacity:"1"}),m=!0);break;case "flipHorizontal":m=Math.round(1.2*w)+"px";jQuery(a).find(".labelImage").css({perspective:m,rotateX:"180deg","backface-visibility":"hidden",opacity:"1",height:"100%"});m=!0;break;case "flipVertical":m=Math.round(1.2*t)+"px";jQuery(a).find(".subcontainer").css({perspective:m,rotateY:"0deg"});jQuery(a).find(".labelImage").css({perspective:m,rotateY:"180deg","backface-visibility":"hidden",opacity:"1",height:"100%"});
m=!0;break;case "imageScale150":jQuery(a).css("overflow","hidden")}g_supportTransit||(m=!1);if(m||g_supportTransit)"swing"==b[j].easing&&(b[j].easing="ease"),"swing"==b[j].easingBack&&(b[j].easingBack="ease")}}function l(){var a=jQuery(B).width(),a=Math.ceil(p.length/Math.floor(a/t))*w;R&&jQuery(B).css("max-height",a);return a}function e(){if(0<t){0<c.maxWidth&&t>c.maxWidth&&jQuery(M).css("maxWidth",t);var a=jQuery(X).width();0<c.maxItemsPerLine?c.maxItemsPerLine*t<=a?jQuery(B).css("max-width",c.maxItemsPerLine*
t):(a=parseInt(a/t),jQuery(B).css("max-width",a*t)):(a=parseInt(a/t),jQuery(B).css("max-width",a*t))}}function g(b){g_viewerCurrentItem=jQuery(b).data("index");K=jQuery('<div class="nanoGalleryViewer" style="visibility:hidden"></div>').appendTo(M);b="";for(var c=0;c<p.length;c++)b+='<img class="image" src="" style="visibility:hidden;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;">';u=jQuery('<div class="content">'+(b+'<img class="image" src="" style="visibility:hidden;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;">')+
'<div class="contentAreaPrevious"></div><div class="contentAreaNext"></div></div>').appendTo(K);$=jQuery('<div class="closeButtonFloating"></div>').appendTo(K);H=jQuery('<div class="toolbar"><div class="previousButton"></div><div class="nextButton"></div><div class="closeButton"></div><div class="label"><div class="title"></div><div class="description"></div></div>').appendTo(K);x("",K);jQuery("body").css("overflow","hidden");y();jQuery(document).keyup(function(b){27==b.keyCode&&a()});jQuery($).on("click",
function(){a()});jQuery(H).find(".closeButton").on("click",function(){a()});jQuery(u).find("img").on("click",function(a){a.stopPropagation();a.pageX<jQuery(window).width()/2?I():L()});jQuery(H).find(".nextButton").on("click",function(){L()});jQuery(H).find(".previousButton").on("click",function(){I()});jQuery(u).find(".contentAreaNext").on("click",function(a){a.stopPropagation();L()});jQuery(u).find(".contentAreaPrevious").on("click",function(a){a.stopPropagation();I()});jQuery(u).on("click",function(b){b.stopPropagation();
a()})}function L(){g_viewerPreviousItem=g_viewerCurrentItem;g_viewerCurrentItem==p.length-1?g_viewerCurrentItem=0:g_viewerCurrentItem++;y()}function I(){g_viewerPreviousItem=g_viewerCurrentItem;0==g_viewerCurrentItem?g_viewerCurrentItem=p.length-1:g_viewerCurrentItem--;y()}function y(){jQuery(u).find("img:eq("+g_viewerCurrentItem+")").attr("src",p[g_viewerCurrentItem].src);g_viewerCurrentItem+1<p.length&&jQuery(u).find("img:eq("+(g_viewerCurrentItem+1)+")").attr("src",p[g_viewerCurrentItem+1].src);
-1!=g_viewerPreviousItem&&ca(jQuery(u),jQuery(u).find("img:eq("+g_viewerPreviousItem+")"),jQuery(u).find("img:eq("+g_viewerCurrentItem+")"));jQuery(u).find("img:eq("+g_viewerCurrentItem+")").css({visibility:"visible",opacity:0});-1!=g_viewerPreviousItem?(jQuery(u).find("img:eq("+g_viewerCurrentItem+")").animate({opacity:"1"}),jQuery(u).find("img:eq("+g_viewerPreviousItem+")").animate({opacity:"0"},function(){jQuery(u).find("img:eq("+g_viewerPreviousItem+")").css("visibility","hidden")})):jQuery(u).find("img:eq("+
g_viewerCurrentItem+")").animate({opacity:"1"});void 0!==p[g_viewerCurrentItem].title?jQuery(H).find(".title").text(p[g_viewerCurrentItem].title):jQuery(H).find(".title").text("");void 0!==p[g_viewerCurrentItem].description?jQuery(H).find(".description").text(p[g_viewerCurrentItem].description):jQuery(H).find(".description").text("");f();S=!0}function a(){S&&(S=!1,jQuery(K).remove(),jQuery("body").css("overflow","inherit"),g_viewerPreviousItem=-1)}function f(){var a=jQuery(window).width(),b=jQuery(window).height();
jQuery(K).css({visibility:"visible",position:"fixed",top:0,left:0,width:jQuery(window).width(),height:jQuery(window).height()});var c=jQuery(u).find("img"),b=Math.abs(jQuery(u).outerHeight(!0)-jQuery(u).height()),a=Math.abs(jQuery(u).outerHeight(!0)-jQuery(u).height()),d=jQuery(c).outerHeight(!1)-jQuery(c).innerHeight(),f=Math.abs(jQuery(c).outerWidth(!1)-jQuery(c).innerWidth()),n=Math.abs(jQuery(c).innerHeight()-jQuery(c).height()),c=Math.abs(jQuery(c).innerHeight()-jQuery(c).height()),d=d+n,f=f+
c,b=jQuery(window).height()-jQuery(H).outerHeight(!0)-b,a=jQuery(window).width()-a;jQuery(u).css({height:b,width:a});jQuery(u).children("img").css({"max-width":a-d,"max-height":b-f});jQuery(u).find("img").outerHeight(!0);jQuery(u).find("img").outerHeight();jQuery(u).find("img").outerWidth(!0);jQuery(u).find("img").outerWidth()}function n(a){var b=null;switch(N(c.colorScheme)){case "object":b=aa;jQuery.extend(!0,b,c.colorScheme);g_colorSchemeLabel="nanogallery_colorscheme_custom";break;case "string":switch(c.colorScheme){case "none":return;
case "light":b=da;g_colorSchemeLabel="nanogallery_colorscheme_light";break;case "darkRed":b=ea;g_colorSchemeLabel="nanogallery_colorscheme_darkred";break;case "darkGreen":b=fa;g_colorSchemeLabel="nanogallery_colorscheme_darkgreen";break;case "darkBlue":b=ga;g_colorSchemeLabel="nanogallery_colorscheme_darkblue";break;case "darkOrange":b=ha;g_colorSchemeLabel="nanogallery_colorscheme_darkorange";break;default:b=aa,g_colorSchemeLabel="nanogallery_colorscheme_default"}break;default:alert("nanoGALLERY - error in colorScheme parameter.");
return}var d="."+g_colorSchemeLabel+" ",k=d+".nanoGalleryBreadcrumb { background:"+b.breadcrumb.background+"; border:"+b.breadcrumb.border+"; }\n",k=k+(d+".nanoGalleryBreadcrumb .folder { color:"+b.breadcrumb.color+"; }\n"),k=k+(d+".nanoGalleryBreadcrumb .separator:after { color:"+b.breadcrumb.color+"; }\n"),k=k+(d+".nanoGalleryBreadcrumb .folder:hover { color:"+b.breadcrumb.colorHover+"; }\n"),k=k+(d+".nanoGalleryContainer .container { background:"+b.thumbnail.background+"; border:"+b.thumbnail.border+
"; }\n"),k=k+(d+".nanoGalleryContainer .container .imgContainer { background:"+b.thumbnail.background+"; }\n"),k=k+(d+".nanoGalleryContainer .container .labelImage { background:"+b.thumbnail.labelBackground+"; }\n"),k=k+(d+".nanoGalleryContainer .container .labelImageTitle { color:"+b.thumbnail.titleColor+"; }\n"),k=k+(d+".nanoGalleryContainer .container .labelDescription { color:"+b.thumbnail.descriptionColor+"; }\n");jQuery("head").append("<style>"+k+"</style>");jQuery(a).addClass(g_colorSchemeLabel)}
function d(b){var a=null;switch(N(c.colorSchemeViewer)){case "object":a=ba;jQuery.extend(!0,a,c.colorSchemeViewer);g_colorSchemeLabel="nanogallery_colorschemeviewer_custom";break;case "string":switch(c.colorSchemeViewer){case "none":return;case "light":a=ia;g_colorSchemeLabel="nanogallery_colorschemeviewer_light";break;case "darkRed":a=ja;g_colorSchemeLabel="nanogallery_colorschemeviewer_darkred";break;case "darkGreen":a=ka;g_colorSchemeLabel="nanogallery_colorschemeviewer_darkgreen";break;case "darkBlue":a=
la;g_colorSchemeLabel="nanogallery_colorschemeviewer_darkblue";break;case "darkOrange":a=ma;g_colorSchemeLabel="nanogallery_colorschemeviewer_darkorange";break;default:a=ba,g_colorSchemeLabel="nanogallery_colorschemeviewer_default"}break;default:alert("nanoGALLERY - error in colorSchemeViewer parameter.");return}var d="."+g_colorSchemeLabel+" ",k=d+".nanoGalleryViewer { background:"+a.background+"; }\n",k=k+(d+".nanoGalleryViewer .content img { border:"+a.imageBorder+"; box-shadow:"+a.imageBoxShadow+
"; }\n"),k=k+(d+".nanoGalleryViewer .toolbar { background:"+a.barBackground+"; border:"+a.barBorder+"; color:"+a.barColor+"; }\n"),k=k+(d+".nanoGalleryViewer .toolbar .previousButton:after { color:"+a.barColor+"; }\n"),k=k+(d+".nanoGalleryViewer .toolbar .nextButton:after { color:"+a.barColor+"; }\n"),k=k+(d+".nanoGalleryViewer .toolbar .closeButton:after { color:"+a.barColor+"; }\n"),k=k+(d+".nanoGalleryViewer .toolbar .label .title { color:"+a.barColor+"; }\n"),k=k+(d+".nanoGalleryViewer .toolbar .label .description { color:"+
a.barDescriptionColor+"; }\n");jQuery("head").append("<style>"+k+"</style>");jQuery(b).addClass(g_colorSchemeLabel)}function W(a){alert("nanoGALLERY: "+a)}function x(a,b){var c=0;""==a&&(a="*");jQuery(a).each(function(){var a=parseInt(jQuery(this).css("z-index"));c=a>c?a:c});c++;jQuery(b).css("z-index",c)}function ca(a,b,c){var d=0;""==a&&(a="*");jQuery(a).each(function(){var a=parseInt(jQuery(this).css("z-index"));d=a>d?a:d});d++;jQuery(c).css("z-index",d+1);jQuery(b).css("z-index",d)}var c=null,
M=null,X=null,B=null,J=null,K=null,S=!1,R=!1,$=null,u=null,H=null,p=[],t=100,w=100,Q=null,P=null,O=null,U=64,Y=[32,48,64,72,94,104,110,128,144,150,160,200,220,288,320,400,512,576,640,720,800,912,1024,1152,1280,1440,1600],T="s";g_flickrThumbAvailableSizes=[75,100,150,240,320,500,640,800,1024];g_flickrThumbAvailableSizesStr="stqmn-zcb".split("");g_flickrApiKey="2f0e634b471fdb47446abcb9c5afebdc";g_viewerCurrentItem=0;g_betamax=g_viewerPreviousItem=-1;g_supportTransit=!1;var aa={breadcrumb:{background:"#000",
border:"1px dotted #555",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#000",border:"1px solid #000",labelBackground:"rgba(34, 34, 34, 0.75)",titleColor:"#eee",descriptionColor:"#ccc"}},ea={breadcrumb:{background:"#a60000",border:"1px dotted #ff0000",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#a60000",border:"1px solid #ff0000",labelBackground:"rgba(134, 0, 0, 0.75)",titleColor:"#eee",descriptionColor:"#ccc"}},fa={breadcrumb:{background:"#008500",border:"1px dotted #00cc00",color:"#ccc",
colorHover:"#fff"},thumbnail:{background:"#008500",border:"1px solid #00cc00",labelBackground:"rgba(0, 105, 0, 0.75)",titleColor:"#eee",descriptionColor:"#ccc"}},ga={breadcrumb:{background:"#071871",border:"1px dotted #162ea2",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#071871",border:"1px solid #162ea2",labelBackground:"rgba(7, 8, 81, 0.75)",titleColor:"#eee",descriptionColor:"#ccc"}},ha={breadcrumb:{background:"#a67600",border:"1px dotted #ffb600",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#a67600",
border:"1px solid #ffb600",labelBackground:"rgba(134, 86, 0, 0.75)",titleColor:"#eee",descriptionColor:"#ccc"}},da={breadcrumb:{background:"#ddd",border:"1px dotted #999",color:"#eee",colorHover:"#000"},thumbnail:{background:"#fff",border:"1px solid #fff",labelBackground:"rgba(170, 170, 170, 0.75)",titleColor:"#fff",descriptionColor:"#eee"}},ba={background:"rgba(1, 1, 1, 0.75)",imageBorder:"12px solid #f8f8f8",imageBoxShadow:"#888 0px 0px 20px",barBackground:"#222",barBorder:"2px solid #111",barColor:"#eee",
barDescriptionColor:"#aaa"},ja={background:"rgba(1, 1, 1, 0.75)",imageBorder:"12px solid #ffa3a3",imageBoxShadow:"#ff0000 0px 0px 20px",barBackground:"#a60000",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},ka={background:"rgba(1, 1, 1, 0.75)",imageBorder:"12px solid #97e697",imageBoxShadow:"#00cc00 0px 0px 20px",barBackground:"#008500",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},la={background:"rgba(1, 1, 1, 0.75)",imageBorder:"12px solid #a0b0d7",
imageBoxShadow:"#162ea2 0px 0px 20px",barBackground:"#071871",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},ma={background:"rgba(1, 1, 1, 0.75)",imageBorder:"12px solid #ffd7b7",imageBoxShadow:"#ffb600 0px 0px 20px",barBackground:"#a67600",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},ia={background:"rgba(1, 1, 1, 0.75)",imageBorder:"12px solid #f8f8f8",imageBoxShadow:"#888 0px 0px 20px",barBackground:"#222",barBorder:"2px solid #111",barColor:"#eee",
barDescriptionColor:"#aaa"},z=0,V=1,b=[];this.Initiate=function(a,m){c=m;M=a;jQuery.support.transition&&(g_supportTransit=!0);""!=c.blackList&&(Q=c.blackList.toUpperCase().split("|"));""!=c.whiteList&&(P=c.whiteList.toUpperCase().split("|"));""!=c.albumList&&(O=c.albumList.toUpperCase().split("|"));jQuery(a).addClass("nanogallery_theme_"+c.theme);n(a);d(a);-1==window.location.hostname.indexOf("bri")&&(g_betamax=4);void 0!==c.photoset?0<c.photoset.length&&(c.displayBreadcrumb=!1):c.photoset="";void 0!==
c.album?0<c.album.length&&(c.displayBreadcrumb=!1):c.album="";0<c.maxWidth&&(jQuery(M).css("maxWidth",+c.maxWidth),jQuery(M).css("margin-left","auto"),jQuery(M).css("margin-right","auto"));!0!=c.displayBreadcrumb||"picasa"!=c.kind&&"flickr"!=c.kind||(J=jQuery('<div class="nanoGalleryBreadcrumb"></div>').appendTo(a));X=jQuery('<div class="nanoGalleryContainerParent"></div>').appendTo(a);B=jQuery('<div class="nanoGalleryContainer"></div>').appendTo(X);switch(N(c.thumbnailHoverEffect)){case "string":for(var g=
c.thumbnailHoverEffect.split(","),k=0;k<g.length;k++)b.push({name:g[k],duration:200,durationBack:200,easing:"swing",easingBack:"swing"});break;case "object":void 0!=c.thumbnailHoverEffect.name&&b.push(jQuery.extend({duration:200,durationBack:150,easing:"swing",easingBack:"swing"},c.thumbnailHoverEffect));break;case "array":for(k=0;k<c.thumbnailHoverEffect.length;k++)void 0!=c.thumbnailHoverEffect[k].name&&b.push(jQuery.extend({duration:200,durationBack:150,easing:"swing",easingBack:"swing"},c.thumbnailHoverEffect[k]));
break;case "null":break;default:alert('nanoGALLERY: incorrect parameter for "thumbnailHoverEffect".')}for(k=0;k<b.length;k++)switch(b[k].name){case "slideUp":case "slideDown":case "slideLeft":case "slideRight":case "imageSlideUp":case "imageSlideDown":case "imageSlideLeft":case "imageSlideRight":case "labelAppear":case "labelAppear75":case "labelSlideDown":case "labelSlideUp":case "labelOpacity50":case "imageScale150":case "imageScale150Outside":case "scale120":case "borderLighter":case "borderDarker":case "imageInvisible":case "overScale":case "overScaleOutside":case "scaleLabelOverImage":break;
case "imageFlipHorizontal":case "imageFlipVertical":case "rotateCornerBR":case "rotateCornerBL":case "imageRotateCornerBR":case "imageRotateCornerBL":g_supportTransit||window.console&&console.log("nanoGALLERY: "+('The parameter "'+b[k].name+'" for "thumbnailHoverEffect" requires the additional jQuery plugin "Transit".'));break;default:W('Unknow parameter "'+b[k].name+'" for "thumbnailHoverEffect".')}g=0;g=c.thumbnailWidth>c.thumbnailHeight?c.thumbnailWidth:c.thumbnailHeight;switch(c.kind){case "":0<
c.itemsBaseURL.length&&(c.itemsBaseURL+="/");void 0!==c.items&&null!==c.items?q():(k=jQuery(a).children("a"),0<k.length?D(k):alert("nanoGALLERY - error: no image to process."));break;case "getsimple":return;case "flickr":for(k=0;k<g_flickrThumbAvailableSizes.length&&!(T=g_flickrThumbAvailableSizesStr[k],g<g_flickrThumbAvailableSizes[k]);k++);A(c.photoset,c.topLabel);break;default:for(k=0;k<Y.length&&!(U=Y[k],g<Y[k]);k++);G(c.album,c.topLabel)}jQuery(window).resize(function(){R&&(e(),l());S&&f()})};
var N=function(a){return{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},F=function(a,b,c){a=a.replace(/^\s*|\s*$/,"");a=a.replace(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i,"#$1$1$2$2$3$3");b=Math.round(256*b)*(c?-1:1);var d=a.match(RegExp("^rgba?\\(\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])(?:\\s*,\\s*(0|1|0?\\.\\d+))?\\s*\\)$","i")),f=d&&null!=d[4]?d[4]:null;a=d?[d[1],d[2],d[3]]:a.replace(/^#?([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])/i,
function(a,b,c,d){return parseInt(b,16)+","+parseInt(c,16)+","+parseInt(d,16)}).split(/,/);return d?"rgb"+(null!==f?"a":"")+"("+Math[c?"max":"min"](parseInt(a[0],10)+b,c?0:255)+", "+Math[c?"max":"min"](parseInt(a[1],10)+b,c?0:255)+", "+Math[c?"max":"min"](parseInt(a[2],10)+b,c?0:255)+(null!==f?", "+f:"")+")":["#",Z(Math[c?"max":"min"](parseInt(a[0],10)+b,c?0:255).toString(16),2),Z(Math[c?"max":"min"](parseInt(a[1],10)+b,c?0:255).toString(16),2),Z(Math[c?"max":"min"](parseInt(a[2],10)+b,c?0:255).toString(16),
2)].join("")},Z=function(a,b){for(a+="";a.length<b;)a="0"+a;return a}}
(function(q,D){function A(a,f,n){var d=e[f.type]||{};if(null==a)return n||!f.def?null:f.def;a=d.floor?~~a:parseFloat(a);return isNaN(a)?f.def:d.mod?(a+d.mod)%d.mod:0>a?0:d.max<a?d.max:a}function G(a){var f=r(),n=f._rgba=[];a=a.toLowerCase();y(E,function(d,g){var e,h=g.re.exec(a);e=h&&g.parse(h);h=g.space||"rgba";if(e)return e=f[h](e),f[l[h].cache]=e[l[h].cache],n=f._rgba=e._rgba,!1});return n.length?("0,0,0,0"===n.join()&&q.extend(n,I.transparent),f):I[a]}function C(a,f,n){n=(n+1)%1;return 1>6*n?
a+(f-a)*n*6:1>2*n?f:2>3*n?a+(f-a)*(2/3-n)*6:a}var h=/^([\-+])=\s*(\d+\.?\d*)/,E=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),
parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],r=q.Color=function(a,f,n,d){return new q.Color.fn.parse(a,f,n,d)},l={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,
type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},e={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},g=r.support={},L=q("<p>")[0],I,y=q.each;L.style.cssText="background-color:rgba(1,1,1,.5)";g.rgba=-1<L.style.backgroundColor.indexOf("rgba");y(l,function(a,f){f.cache="_"+a;f.props.alpha={idx:3,type:"percent",def:1}});r.fn=q.extend(r.prototype,{parse:function(a,f,n,d){if(a===D)return this._rgba=[null,null,null,null],this;if(a.jquery||a.nodeType)a=
q(a).css(f),f=D;var e=this,g=q.type(a),h=this._rgba=[];f!==D&&(a=[a,f,n,d],g="array");if("string"===g)return this.parse(G(a)||I._default);if("array"===g)return y(l.rgba.props,function(c,d){h[d.idx]=A(a[d.idx],d)}),this;if("object"===g)return a instanceof r?y(l,function(c,d){a[d.cache]&&(e[d.cache]=a[d.cache].slice())}):y(l,function(c,d){var f=d.cache;y(d.props,function(c,n){if(!e[f]&&d.to){if("alpha"===c||null==a[c])return;e[f]=d.to(e._rgba)}e[f][n.idx]=A(a[c],n,!0)});e[f]&&0>q.inArray(null,e[f].slice(0,
3))&&(e[f][3]=1,d.from&&(e._rgba=d.from(e[f])))}),this},is:function(a){var f=r(a),n=!0,d=this;y(l,function(a,e){var g,c=f[e.cache];c&&(g=d[e.cache]||e.to&&e.to(d._rgba)||[],y(e.props,function(a,d){if(null!=c[d.idx])return n=c[d.idx]===g[d.idx]}));return n});return n},_space:function(){var a=[],f=this;y(l,function(e,d){f[d.cache]&&a.push(e)});return a.pop()},transition:function(a,f){var n=r(a),d=n._space(),g=l[d],h=0===this.alpha()?r("transparent"):this,q=h[g.cache]||g.to(h._rgba),c=q.slice(),n=n[g.cache];
y(g.props,function(a,d){var g=d.idx,h=q[g],l=n[g],x=e[d.type]||{};null!==l&&(null===h?c[g]=l:(x.mod&&(l-h>x.mod/2?h+=x.mod:h-l>x.mod/2&&(h-=x.mod)),c[g]=A((l-h)*f+h,d)))});return this[d](c)},blend:function(a){if(1===this._rgba[3])return this;var f=this._rgba.slice(),e=f.pop(),d=r(a)._rgba;return r(q.map(f,function(a,f){return(1-e)*d[f]+e*a}))},toRgbaString:function(){var a="rgba(",f=q.map(this._rgba,function(a,d){return null==a?2<d?1:0:a});1===f[3]&&(f.pop(),a="rgb(");return a+f.join()+")"},toHslaString:function(){var a=
"hsla(",f=q.map(this.hsla(),function(a,d){null==a&&(a=2<d?1:0);d&&3>d&&(a=Math.round(100*a)+"%");return a});1===f[3]&&(f.pop(),a="hsl(");return a+f.join()+")"},toHexString:function(a){var f=this._rgba.slice(),e=f.pop();a&&f.push(~~(255*e));return"#"+q.map(f,function(a){a=(a||0).toString(16);return 1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});r.fn.parse.prototype=r.fn;l.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,
null,null,a[3]];var f=a[0]/255,e=a[1]/255,d=a[2]/255;a=a[3];var g=Math.max(f,e,d),h=Math.min(f,e,d),l=g-h,c=g+h,q=0.5*c,c=0===l?0:0.5>=q?l/c:l/(2-c);return[Math.round(h===g?0:f===g?60*(e-d)/l+360:e===g?60*(d-f)/l+120:60*(f-e)/l+240)%360,c,q,null==a?1:a]};l.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var f=a[0]/360,e=a[1],d=a[2];a=a[3];e=0.5>=d?d*(1+e):d+e-d*e;d=2*d-e;return[Math.round(255*C(d,e,f+1/3)),Math.round(255*C(d,e,f)),Math.round(255*C(d,e,f-1/3)),
a]};y(l,function(a,e){var g=e.props,d=e.cache,l=e.to,x=e.from;r.fn[a]=function(a){l&&!this[d]&&(this[d]=l(this._rgba));if(a===D)return this[d].slice();var c,e=q.type(a),f="array"===e||"object"===e?a:arguments,h=this[d].slice();y(g,function(a,c){var d=f["object"===e?a:c.idx];null==d&&(d=h[c.idx]);h[c.idx]=A(d,c)});return x?(c=r(x(h)),c[d]=h,c):r(h)};y(g,function(d,c){r.fn[d]||(r.fn[d]=function(e){var f=q.type(e),g="alpha"===d?this._hsla?"hsla":"rgba":a,n=this[g](),l=n[c.idx];if("undefined"===f)return l;
"function"===f&&(e=e.call(this,l),f=q.type(e));if(null==e&&c.empty)return this;"string"===f&&(f=h.exec(e))&&(e=l+parseFloat(f[2])*("+"===f[1]?1:-1));n[c.idx]=e;return this[g](n)})})});r.hook=function(a){a=a.split(" ");y(a,function(a,e){q.cssHooks[e]={set:function(a,f){var h,l="";if("transparent"!==f&&("string"!==q.type(f)||(h=G(f)))){f=r(h||f);if(!g.rgba&&1!==f._rgba[3]){for(h="backgroundColor"===e?a.parentNode:a;(""===l||"transparent"===l)&&h&&h.style;)try{l=q.css(h,"backgroundColor"),h=h.parentNode}catch(c){}f=
f.blend(l&&"transparent"!==l?l:"_default")}f=f.toRgbaString()}try{a.style[e]=f}catch(y){}}};q.fx.step[e]=function(a){a.colorInit||(a.start=r(a.elem,e),a.end=r(a.end),a.colorInit=!0);q.cssHooks[e].set(a.elem,a.start.transition(a.end,a.pos))}})};r.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");q.cssHooks.borderColor={expand:function(a){var e={};y(["Top","Right","Bottom","Left"],function(g,
d){e["border"+d+"Color"]=a});return e}};I=q.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);